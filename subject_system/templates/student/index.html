{% extends "student/base.html" %}

{% block content %}
<div class="row">
<div class="col-md-12">
              <div class="card">
                <div class="card-header">
                  <h4>Student Infos</h4>
                </div>
                <div class="card-body">
                  <div class="table-responsive">
                    <div class="row">
                      <div class="col-md-2"><a href="/student/add/">添加学生</a></div>
                      <div class="col-md-6">
                        <form action="/student/search/" class="row" method="get">
                          <input type="text" class="form-control col-md-4" name="key_word" value="{{key_word}}">
                          <select name="cate" class="form-control col-md-3">
                            <option value="name">Name</option>
                            <option value="class">Class</option>
                          </select>
                          <input type="submit" class="btn btn-success">
                        </form>
                      </div>
                    </div>
                    <p>
                    <table class="table table-striped table-hover">
                      <thead>
                        <tr>
                          <th>Number</th>
                          <th>Name</th>
                          <th>Age</th>
                          <th>Gender</th>
                          <th>Birthday</th>
                          <th>Class</th>
                          <th>Course</th>
                          <th>Operations</th>
                        </tr>
                      </thead>
                      <tbody>
                        {% for student in student_list %}
                        <tr>
                          <td>{{ forloop.counter}}</td>
                          <td>{{student.name}}</td>
                          <td>{{student.age}}</td>
                          <td>{{student.get_sex_display}}</td>
                          <td>{{student.birthday|date:'Y-m-d'}}</td>
                          <td>{{student.clas.name}}</td>
                          <td>
                            {% for course in student.courses.all%}
                            <button class="btn bt-sm btn-info">{{course.title}}</button>
                            {% endfor%}
                          <td>
                            <a class="btn-sm btn-warning" href="/student/edit/{{ student.pk}}">Edit</a>
                            <a class="btn-sm btn-danger" href="/student/delete/{{ student.pk}}">Delete</a>
                          </td>
                          </td>
                        {% endfor %}

                        </tr>
                      </tbody>
                    </table>
                    </p>
                  </div>
                </div>
              </div>
            </div>
</div>
{% endblock %}
